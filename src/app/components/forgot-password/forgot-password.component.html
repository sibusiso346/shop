<div class="forgot-password-container">
  <div class="forgot-password-card">
    @if (!isEmailSent) {
      <div class="forgot-password-header">
        <h1>Forgot Password?</h1>
        <p>No worries! Enter your email address and we'll send you instructions to reset your password.</p>
      </div>

      <form (ngSubmit)="onSubmit()" class="forgot-password-form">
        <div class="form-group">
          <label for="email">Email Address *</label>
          <input 
            type="email" 
            id="email"
            [(ngModel)]="email"
            name="email"
            placeholder="Enter your email address"
            required
            autocomplete="email"
          >
        </div>

        @if (errorMessage) {
          <div class="error-message">
            {{ errorMessage }}
          </div>
        }

        <button 
          type="submit" 
          class="reset-btn"
          [disabled]="isLoading"
        >
          @if (isLoading) {
            <span class="spinner"></span>
            Sending Instructions...
          } @else {
            Send Reset Instructions
          }
        </button>
      </form>
    } @else {
      <div class="success-section">
        <div class="success-icon">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" fill="#10b981" stroke="#059669" stroke-width="2"/>
            <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        
        <h1>Check Your Email</h1>
        <p class="success-message">{{ successMessage }}</p>
        
        <div class="instructions">
          <h3>What to do next:</h3>
          <ol>
            <li>Check your email inbox (and spam folder)</li>
            <li>Click the password reset link in the email</li>
            <li>Create a new password</li>
            <li>Sign in with your new password</li>
          </ol>
        </div>

        <div class="success-actions">
          <button 
            type="button" 
            class="resend-btn"
            (click)="onResendEmail()"
            [disabled]="isLoading"
          >
            @if (isLoading) {
              <span class="spinner"></span>
              Resending...
            } @else {
              Resend Email
            }
          </button>
          
          <button 
            type="button" 
            class="different-email-btn"
            (click)="onTryDifferentEmail()"
          >
            Try Different Email
          </button>
        </div>
      </div>
    }

    <div class="forgot-password-footer">
      <p>Remember your password? <a routerLink="/login">Sign in here</a></p>
      <p>Don't have an account? <a routerLink="/signup">Sign up here</a></p>
    </div>
  </div>
</div>
